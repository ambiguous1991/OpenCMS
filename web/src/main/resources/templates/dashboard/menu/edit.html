<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <title th:text="${@systemVariables.get('page.name')+' - Dashboard - Menu - Edit'}">Failed</title>
        <div th:replace="/fragment/import"></div>
        <link rel="stylesheet" href="../../../static/css/opencms.css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
              integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
              crossorigin="anonymous">
        <link rel="stylesheet" href="../../../static/css/bootstrap.css"/>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
                integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                crossorigin="anonymous"></script>
        <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
        <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    </head>
    <body class="d-flex flex-column vh-100">
        <nav th:replace="/fragment/admin-navbar"></nav>
        <nav th:replace="/fragment/admin-breadcrumb"></nav>
        <div class="wrapper">
            <div th:replace="fragment/admin-sidebar"></div>
            <div class="container-fluid shadow-lg flex-grow-1 m-5 p-5">
                <form class="" th:object="${menu}">
                    <h1 class="">Edycja pozycji menu</h1>
                    <div class="form-group row">
                        <label for="isActive" class="col-sm-2">Czy aktywować</label>
                        <br>
                        <input class="col-sm-6" id="isActive" type="checkbox" checked data-toggle="toggle"
                               data-on="Aktywne"
                               data-off="Nieaktywne" data-onstyle="success" data-offstyle="danger"
                               th:value="${menu.getIsActive()}">
                    </div>
                    <div class="form-group row">
                        <label for="name" class="col-sm-2">Nazwa</label>
                        <input id="name" name="name" type="text" aria-describedby="nameHelpBlock"
                               class="col-sm-6 form-control" th:value="${menu.getName()}">
                    </div>
                    <input
                            id="csrf"
                            type="hidden"
                            th:name="${_csrf.parameterName}"
                            th:value="${_csrf.token}"/>
                    <div class="form-group text-center row mt-5 ml-0">
                        <button name="submit" type="submit" class="btn btn-lg btn-primary">Zatwierdź</button>
                    </div>
                </form>
                <div class="">
                    <table class="table table-sm table-responsive-sm table-striped table-bordered table-hover" th:if="${menu.getEntries().size()>0}">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Etykieta</th>
                                <th>Strona</th>
                                <th>Ilość elementów</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="entry:${menu.getEntries()}">
                                <th th:text="${entry.getId()}">1</th>
                                <th th:text="${entry.getLabel()}">Label</th>
                                <th th:text="${entry.getPage()!=null}?${entry.getPage().getTitle()} : 'brak'">brak</th>
                                <th th:text="${entry.getSubentires()!=null}?${entry.getSubentires().size()}:'0'">0</th>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="">
                    <a id="button" th:href="${'/dashboard/menu/'+menu.getId()+'/new'}" class="btn btn-success mb-5">
                        <i class="fas fa-plus-square"></i>
                        Dodaj pozycję menu
                    </a>
                </div>
            </div>
        </div>
    </body>
</html>