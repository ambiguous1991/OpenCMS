<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <title th:text="${@systemVariables.get(@varkey.PAGE_NAME)}+${breadcrumbTitle}">Failed</title>
        <div th:replace="fragment/import"></div>
        <link rel="stylesheet" href="../../../static/css/opencms.css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
              integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
              crossorigin="anonymous">
        <link rel="stylesheet" href="../../../static/css/bootstrap.css"/>
    </head>
    <body class="d-flex flex-column vh-100">
        <nav th:replace="fragment/admin-navbar"></nav>
        <nav th:replace="fragment/admin-breadcrumb"></nav>
        <div class="wrapper">
            <div th:replace="fragment/admin-sidebar"></div>
            <div class="flex-grow-1 flex-column d-flex overflow-auto">
                <div class="m-2">
                    <nav class="m-2" th:replace="fragment/menu/user-menu">PLACEHOLDER</nav>
                </div>
                <form class="m-2" action="/dashboard/menu/new" method="post">
                    <button type="submit" class="btn btn-sm btn-success"><i class="fas fa-plus-square"></i> utwórz nowe menu</button>
                    <input
                            type="hidden"
                            th:name="${_csrf.parameterName}"
                            th:value="${_csrf.token}" />
                </form>
                <div id="table-wrapper" class="m-2; overflow-auto flex-grow-1 p-2">
                    <table class="table table-sm table-borderless text-center">
                        <thead class="border-bottom">
                            <tr class="font-italic">
                                <th scope="col" class="font-weight-normal">nazwa</th>
                                <th scope="col" class="font-weight-normal">czy aktywny</th>
                                <th scope="col" class="font-weight-normal">liczba elementów</th>
                                <th scope="col" class="font-weight-normal">modyfikacja</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="menuTop: ${allMenus}">
                                <td th:text="${menuTop.getName()}">nazwa</td>
                                <td th:text="${menuTop.getIsActive()?'aktywny':''}">aktywny</td>
                                <td th:text="${menuTop.getEntries().size()}"></td>
                                <td>
                                    <a th:if="${menuTop.getIsActive()}" th:href="${'/dashboard/menu/'+menuTop.getId()}"
                                       href="#"
                                       class="btn btn-primary" role="button">Edytuj
                                    </a>
                                    <a th:unless="${menuTop.getIsActive()}"
                                       th:href="${'/dashboard/menu/'+menuTop.getId()}" href="#"
                                       class="btn btn-danger" role="button">Aktywuj i edytuj
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>